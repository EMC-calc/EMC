<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coordinate Calculators</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 90px auto 70px;
            padding: 20px;
            background: #f9fbfc; /* Light background */
            color: #2d2d2d; /* Dark text */
            min-height: 100vh;
        }
        .calculator {
            background-color: #ffffff; /* White card */
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(15, 90, 181, 0.1); /* Subtle blue shadow */
            margin-bottom: 25px;
        }
        h1 {
            text-align: center;
            color: #0f5ab5; /* Blue heading */
            font-size: 2.4em;
            font-weight: 600;
            margin-bottom: 20px;
        }
        .formula {
            text-align: center;
            margin-bottom: 20px;
            padding: 12px;
            background-color: #f2f6ff; /* Light blue background */
            border-radius: 6px;
            color: #123d82; /* Darker blue text */
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        .input-section {
            flex: 1;
            min-width: 300px;
        }
        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        .point {
            flex: 1;
            min-width: 120px;
        }
        .point h3 {
            margin-bottom: 10px;
            color: #123d82; /* Darker blue subheading */
            font-weight: 500;
        }
        .coordinates {
            display: flex;
            gap: 10px;
        }
        .coordinate {
            flex: 1;
        }
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #4a4a4a; /* Grayish label */
        }
        input, select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #e0e0e0; /* Light gray border */
            border-radius: 8px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
        }
        input:focus, select:focus {
            border-color: #0f5ab5; /* Blue focus */
        }
        button {
            background: linear-gradient(45deg, #1a73e8, #2a85ff); /* Blue gradient */
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(26, 115, 232, 0.4); /* Blue shadow */
            margin-top: 10px;
            width: 100%;
        }
        button:hover {
            transform: translateY(-5px); /* Lift effect */
            box-shadow: 0 8px 25px rgba(26, 115, 232, 0.5); /* Enhanced shadow */
            background: linear-gradient(45deg, #185abc, #1a73e8); /* Darker gradient */
        }
        button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2); /* Ripple effect */
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }
        button:hover::before {
            width: 300px;
            height: 300px;
        }
        button:active {
            transform: scale(0.95);
        }
        #resultDistance, #resultMidpoint, #resultSection {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8eefc; /* Light blue result */
            border-radius: 10px;
            display: none;
        }
        .steps {
            margin-top: 15px;
            padding: 12px;
            background-color: #f2f6ff; /* Light blue steps */
            border-radius: 6px;
            display: none;
            color: #4a4a4a; /* Grayish text */
        }
        .steps-btn {
            background: none;
            color: #1a73e8; /* Blue button */
            border: none;
            padding: 5px 0;
            font-size: 14px;
            cursor: pointer;
            text-decoration: underline;
            width: auto;
            text-align: left;
            transition: color 0.3s;
        }
        .steps-btn:hover {
            color: #123d82; /* Darker blue on hover */
        }
        .graph-container {
            flex: 1;
            min-width: 300px;
            margin-top: 20px;
        }
        #graphDistance, #graphMidpoint, #graphSection {
            width: 100%;
            height: 300px;
            border: 1px solid #e0e0e0; /* Light gray border */
            background-color: #ffffff; /* White graph background */
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); /* Subtle shadow */
        }
        .grid-line {
            stroke: #e0e0e0; /* Light gray grid */
            stroke-width: 1;
            opacity: 0.5;
        }
        .axis-line {
            stroke: #333; /* Dark axis */
            stroke-width: 2;
        }
        .axis-label {
            font-size: 12px;
            fill: #666; /* Gray labels */
        }
        .point-label {
            font-size: 12px;
            fill: #0f5ab5; /* Blue point labels */
            font-weight: bold;
        }
        .distance-line {
            stroke: #1a73e8; /* Blue line */
            stroke-width: 2;
            stroke-dasharray: 5,3;
        }
        .midpoint {
            fill: #ff9500; /* Orange midpoint */
            stroke: #0f5ab5; /* Blue outline */
            stroke-width: 1;
        }
        .midpoint-label {
            font-size: 12px;
            fill: #e67e22; /* Darker orange text */
            font-weight: bold;
        }
        .segment-line {
            stroke: #1a73e8; /* Blue segment */
            stroke-width: 2;
        }
        .dividing-line {
            stroke: #ff6b6b; /* Red dividing line */
            stroke-width: 2;
            stroke-dasharray: 5,3;
        }
        .disabled {
            background-color: #e0e0e0; /* Gray disabled */
            cursor: not-allowed;
        }
        .calculation-type {
            margin-bottom: 20px;
        }
        #calc-type {
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <!-- Distance Formula Calculator -->
    <div class="calculator">
        <h1>Distance Formula Calculator</h1>
        
        <div class="formula">
            <p>Calculate the distance between two points using:</p>
            <p><strong>d = √[(x₂ - x₁)² + (y₂ - y₁)²]</strong></p>
        </div>
        
        <div class="container">
            <div class="input-section">
                <div class="input-group">
                    <div class="point">
                        <h3>Point 1</h3>
                        <div class="coordinates">
                            <div class="coordinate">
                                <label for="x1">x₁:</label>
                                <input type="number" id="x1" value="1" step="any">
                            </div>
                            <div class="coordinate">
                                <label for="y1">y₁:</label>
                                <input type="number" id="y1" value="2" step="any">
                            </div>
                        </div>
                    </div>
                    
                    <div class="point">
                        <h3>Point 2</h3>
                        <div class="coordinates">
                            <div class="coordinate">
                                <label for="x2">x₂:</label>
                                <input type="number" id="x2" value="4" step="any">
                            </div>
                            <div class="coordinate">
                                <label for="y2">y₂:</label>
                                <input type="number" id="y2" value="6" step="any">
                            </div>
                        </div>
                    </div>
                </div>
                
                <button id="calculateDistance">Calculate Distance</button>
                
                <div id="resultDistance">
                    <h3>Result:</h3>
                    <p id="distance">Distance = </p>
                    <button class="steps-btn" id="toggleStepsDistance">Show Steps</button>
                    <div class="steps" id="stepsDistance"></div>
                </div>
            </div>
            
            <div class="graph-container">
                <h3>Graph Visualization</h3>
                <svg id="graphDistance" width="400" height="300"></svg>
            </div>
        </div>
    </div>

    <!-- Midpoint Formula Calculator -->
    <div class="calculator">
        <h1>Midpoint Formula Calculator</h1>
        
        <div class="formula">
            <p>Calculate the midpoint between two points using:</p>
            <p><strong>Midpoint = ((x₁ + x₂)/2, (y₁ + y₂)/2)</strong></p>
        </div>
        
        <div class="container">
            <div class="input-section">
                <div class="input-group">
                    <div class="point">
                        <h3>Point 1</h3>
                        <div class="coordinates">
                            <div class="coordinate">
                                <label for="x1Midpoint">x₁:</label>
                                <input type="number" id="x1Midpoint" value="1" step="any">
                            </div>
                            <div class="coordinate">
                                <label for="y1Midpoint">y₁:</label>
                                <input type="number" id="y1Midpoint" value="2" step="any">
                            </div>
                        </div>
                    </div>
                    
                    <div class="point">
                        <h3>Point 2</h3>
                        <div class="coordinates">
                            <div class="coordinate">
                                <label for="x2Midpoint">x₂:</label>
                                <input type="number" id="x2Midpoint" value="5" step="any">
                            </div>
                            <div class="coordinate">
                                <label for="y2Midpoint">y₂:</label>
                                <input type="number" id="y2Midpoint" value="6" step="any">
                            </div>
                        </div>
                    </div>
                </div>
                
                <button id="calculateMidpoint">Calculate Midpoint</button>
                
                <div id="resultMidpoint">
                    <h3>Result:</h3>
                    <p id="midpoint">Midpoint = </p>
                    <button class="steps-btn" id="toggleStepsMidpoint">Show Steps</button>
                    <div class="steps" id="stepsMidpoint"></div>
                </div>
            </div>
            
            <div class="graph-container">
                <h3>Graph Visualization</h3>
                <svg id="graphMidpoint" width="400" height="300"></svg>
            </div>
        </div>
    </div>

    <!-- Section Formula Calculator -->
    <div class="calculator">
        <h1>Section Formula Calculator</h1>
        
        <div class="formula">
            <p>Calculate using the section formula:</p>
            <p><strong>P(x, y) = ((m·x₂ + n·x₁)/(m+n), (m·y₂ + n·y₁)/(m+n))</strong></p>
            <p>Where P divides the line segment between points A and B in the ratio m:n</p>
        </div>
        
        <div class="container">
            <div class="input-section">
                <div class="input-group">
                    <div class="point">
                        <h3>Point A</h3>
                        <div class="coordinates">
                            <div class="coordinate">
                                <label for="x1Section">x₁:</label>
                                <input type="number" id="x1Section" value="1" step="any">
                            </div>
                            <div class="coordinate">
                                <label for="y1Section">y₁:</label>
                                <input type="number" id="y1Section" value="2" step="any">
                            </div>
                        </div>
                    </div>
                    
                    <div class="point">
                        <h3>Point B</h3>
                        <div class="coordinates">
                            <div class="coordinate">
                                <label for="x2Section">x₂:</label>
                                <input type="number" id="x2Section" value="5" step="any">
                            </div>
                            <div class="coordinate">
                                <label for="y2Section">y₂:</label>
                                <input type="number" id="y2Section" value="6" step="any">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="ratio-section">
                    <h3>Ratio (m:n)</h3>
                    <div class="ratio-inputs">
                        <div class="ratio-input">
                            <label for="m">m:</label>
                            <input type="number" id="m" value="2" min="0" step="any">
                        </div>
                        <div class="ratio-input">
                            <label for="n">n:</label>
                            <input type="number" id="n" value="3" min="0" step="any">
                        </div>
                    </div>
                </div>
                
                <div class="dividing-point">
                    <h3>Dividing Point P</h3>
                    <div class="coordinates">
                        <div class="coordinate">
                            <label for="xp">x:</label>
                            <input type="number" id="xp" step="any">
                        </div>
                        <div class="coordinate">
                            <label for="yp">y:</label>
                            <input type="number" id="yp" step="any">
                        </div>
                    </div>
                </div>
                
                <div class="calculation-type">
                    <h3>Calculate</h3>
                    <select id="calc-type">
                        <option value="dividing-point">Dividing Point P</option>
                        <option value="point-a">Point A</option>
                        <option value="point-b">Point B</option>
                        <option value="ratio">Ratio (m:n)</option>
                    </select>
                </div>
                
                <button id="calculateSection">Calculate</button>
                
                <div id="resultSection">
                    <h3>Result:</h3>
                    <p id="answerSection"></p>
                    <button class="steps-btn" id="toggleStepsSection">Show Steps</button>
                    <div class="steps" id="stepsSection"></div>
                </div>
            </div>
            
            <div class="graph-container">
                <h3>Graph Visualization</h3>
                <svg id="graphSection" width="400" height="300"></svg>
            </div>
        </div>
    </div>

    <script>
        // Distance Formula Calculator Script
        document.addEventListener('DOMContentLoaded', function() {
            const x1 = parseFloat(document.getElementById('x1').value);
            const y1 = parseFloat(document.getElementById('y1').value);
            const x2 = parseFloat(document.getElementById('x2').value);
            const y2 = parseFloat(document.getElementById('y2').value);
            
            drawGraphDistance(x1, y1, x2, y2);
            calculateDistance();
        });
        
        document.getElementById('calculateDistance').addEventListener('click', calculateDistance);
        
        document.getElementById('x1').addEventListener('input', updateGraphDistance);
        document.getElementById('y1').addEventListener('input', updateGraphDistance);
        document.getElementById('x2').addEventListener('input', updateGraphDistance);
        document.getElementById('y2').addEventListener('input', updateGraphDistance);
        
        function updateGraphDistance() {
            const x1 = parseFloat(document.getElementById('x1').value);
            const y1 = parseFloat(document.getElementById('y1').value);
            const x2 = parseFloat(document.getElementById('x2').value);
            const y2 = parseFloat(document.getElementById('y2').value);
            
            if (!isNaN(x1) && !isNaN(y1) && !isNaN(x2) && !isNaN(y2)) {
                drawGraphDistance(x1, y1, x2, y2);
            }
        }
        
        function calculateDistance() {
            const x1 = parseFloat(document.getElementById('x1').value);
            const y1 = parseFloat(document.getElementById('y1').value);
            const x2 = parseFloat(document.getElementById('x2').value);
            const y2 = parseFloat(document.getElementById('y2').value);
            
            const dx = x2 - x1;
            const dy = y2 - y1;
            
            const dx2 = dx * dx;
            const dy2 = dy * dy;
            
            const distance = Math.sqrt(dx2 + dy2);
            
            document.getElementById('distance').textContent = `Distance = ${distance.toFixed(4)} units`;
            document.getElementById('resultDistance').style.display = 'block';
            
            const steps = document.getElementById('stepsDistance');
            steps.innerHTML = `
                <p>d = √[(x₂ - x₁)² + (y₂ - y₁)²]</p>
                <p>d = √[(${x2} - ${x1})² + (${y2} - ${y1})²]</p>
                <p>d = √[${dx.toFixed(2)}² + ${dy.toFixed(2)}²]</p>
                <p>d = √[${dx2.toFixed(2)} + ${dy2.toFixed(2)}]</p>
                <p>d = √${(dx2 + dy2).toFixed(2)}</p>
                <p>d = ${distance.toFixed(4)}</p>
            `;
            
            drawGraphDistance(x1, y1, x2, y2);
        }
        
        document.getElementById('toggleStepsDistance').addEventListener('click', function() {
            const steps = document.getElementById('stepsDistance');
            if (steps.style.display === 'block') {
                steps.style.display = 'none';
                this.textContent = 'Show Steps';
            } else {
                steps.style.display = 'block';
                this.textContent = 'Hide Steps';
            }
        });
        
        function drawGraphDistance(x1, y1, x2, y2) {
            const svg = document.getElementById('graphDistance');
            svg.innerHTML = '';
            
            const width = svg.clientWidth;
            const height = svg.clientHeight;
            
            let minX = Math.min(x1, x2) - 2;
            let maxX = Math.max(x1, x2) + 2;
            let minY = Math.min(y1, y2) - 2;
            let maxY = Math.max(y1, y2) + 2;
            
            if (maxX - minX < 5) {
                const mid = (maxX + minX) / 2;
                minX = mid - 2.5;
                maxX = mid + 2.5;
            }
            if (maxY - minY < 5) {
                const mid = (maxY + minY) / 2;
                minY = mid - 2.5;
                maxY = mid + 2.5;
            }
            
            const scaleX = width / (maxX - minX);
            const scaleY = height / (maxY - minY);
            
            function transformX(x) {
                return (x - minX) * scaleX;
            }
            
            function transformY(y) {
                return height - (y - minY) * scaleY;
            }
            
            const gridStep = 1;
            
            for (let x = Math.ceil(minX); x <= Math.floor(maxX); x += gridStep) {
                const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                line.setAttribute("x1", transformX(x));
                line.setAttribute("y1", 0);
                line.setAttribute("x2", transformX(x));
                line.setAttribute("y2", height);
                line.setAttribute("class", "grid-line");
                svg.appendChild(line);
                
                if (x !== 0) {
                    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    text.setAttribute("x", transformX(x));
                    text.setAttribute("y", transformY(0) + 15);
                    text.setAttribute("text-anchor", "middle");
                    text.setAttribute("class", "axis-label");
                    text.textContent = x;
                    svg.appendChild(text);
                }
            }
            
            for (let y = Math.ceil(minY); y <= Math.floor(maxY); y += gridStep) {
                const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                line.setAttribute("x1", 0);
                line.setAttribute("y1", transformY(y));
                line.setAttribute("x2", width);
                line.setAttribute("y2", transformY(y));
                line.setAttribute("class", "grid-line");
                svg.appendChild(line);
                
                if (y !== 0) {
                    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    text.setAttribute("x", transformX(0) - 10);
                    text.setAttribute("y", transformY(y) + 5);
                    text.setAttribute("text-anchor", "end");
                    text.setAttribute("class", "axis-label");
                    text.textContent = y;
                    svg.appendChild(text);
                }
            }
            
            const xAxis = document.createElementNS("http://www.w3.org/2000/svg", "line");
            xAxis.setAttribute("x1", 0);
            xAxis.setAttribute("y1", transformY(0));
            xAxis.setAttribute("x2", width);
            xAxis.setAttribute("y2", transformY(0));
            xAxis.setAttribute("class", "axis-line");
            svg.appendChild(xAxis);
            
            const yAxis = document.createElementNS("http://www.w3.org/2000/svg", "line");
            yAxis.setAttribute("x1", transformX(0));
            yAxis.setAttribute("y1", 0);
            yAxis.setAttribute("x2", transformX(0));
            yAxis.setAttribute("y2", height);
            yAxis.setAttribute("class", "axis-line");
            svg.appendChild(yAxis);
            
            const originLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
            originLabel.setAttribute("x", transformX(0) - 5);
            originLabel.setAttribute("y", transformY(0) + 15);
            originLabel.setAttribute("class", "axis-label");
            originLabel.textContent = "0";
            svg.appendChild(originLabel);
            
            const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
            line.setAttribute("x1", transformX(x1));
            line.setAttribute("y1", transformY(y1));
            line.setAttribute("x2", transformX(x2));
            line.setAttribute("y2", transformY(y2));
            line.setAttribute("class", "distance-line");
            svg.appendChild(line);
            
            const point1 = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            point1.setAttribute("cx", transformX(x1));
            point1.setAttribute("cy", transformY(y1));
            point1.setAttribute("r", 5);
            point1.setAttribute("fill", "#ff6b6b"); /* Red point */
            point1.setAttribute("stroke", "#0f5ab5"); /* Blue outline */
            point1.setAttribute("stroke-width", "1");
            svg.appendChild(point1);
            
            const point2 = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            point2.setAttribute("cx", transformX(x2));
            point2.setAttribute("cy", transformY(y2));
            point2.setAttribute("r", 5);
            point2.setAttribute("fill", "#1a73e8"); /* Blue point */
            point2.setAttribute("stroke", "#0f5ab5");
            point2.setAttribute("stroke-width", "1");
            svg.appendChild(point2);
            
            const label1 = document.createElementNS("http://www.w3.org/2000/svg", "text");
            label1.setAttribute("x", transformX(x1) - 5);
            label1.setAttribute("y", transformY(y1) - 10);
            label1.setAttribute("class", "point-label");
            label1.textContent = `P₁(${x1}, ${y1})`;
            svg.appendChild(label1);
            
            const label2 = document.createElementNS("http://www.w3.org/2000/svg", "text");
            label2.setAttribute("x", transformX(x2) - 5);
            label2.setAttribute("y", transformY(y2) - 10);
            label2.setAttribute("class", "point-label");
            label2.textContent = `P₂(${x2}, ${y2})`;
            svg.appendChild(label2);
            
            const midX = (x1 + x2) / 2;
            const midY = (y1 + y2) / 2;
            const dx = x2 - x1;
            const dy = y2 - y1;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            const distanceLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
            distanceLabel.setAttribute("x", transformX(midX));
            distanceLabel.setAttribute("y", transformY(midY) - 10);
            distanceLabel.setAttribute("text-anchor", "middle");
            distanceLabel.setAttribute("fill", "#1a73e8"); /* Blue distance */
            distanceLabel.setAttribute("font-weight", "bold");
            distanceLabel.textContent = distance.toFixed(2);
            svg.appendChild(distanceLabel);
        }

        // Midpoint Formula Calculator Script
        document.addEventListener('DOMContentLoaded', function() {
            const x1 = parseFloat(document.getElementById('x1Midpoint').value);
            const y1 = parseFloat(document.getElementById('y1Midpoint').value);
            const x2 = parseFloat(document.getElementById('x2Midpoint').value);
            const y2 = parseFloat(document.getElementById('y2Midpoint').value);
            
            drawGraphMidpoint(x1, y1, x2, y2);
            calculateMidpoint();
        });
        
        document.getElementById('calculateMidpoint').addEventListener('click', calculateMidpoint);
        
        document.getElementById('x1Midpoint').addEventListener('input', updateGraphMidpoint);
        document.getElementById('y1Midpoint').addEventListener('input', updateGraphMidpoint);
        document.getElementById('x2Midpoint').addEventListener('input', updateGraphMidpoint);
        document.getElementById('y2Midpoint').addEventListener('input', updateGraphMidpoint);
        
        function updateGraphMidpoint() {
            const x1 = parseFloat(document.getElementById('x1Midpoint').value);
            const y1 = parseFloat(document.getElementById('y1Midpoint').value);
            const x2 = parseFloat(document.getElementById('x2Midpoint').value);
            const y2 = parseFloat(document.getElementById('y2Midpoint').value);
            
            if (!isNaN(x1) && !isNaN(y1) && !isNaN(x2) && !isNaN(y2)) {
                drawGraphMidpoint(x1, y1, x2, y2);
            }
        }
        
        function calculateMidpoint() {
            const x1 = parseFloat(document.getElementById('x1Midpoint').value);
            const y1 = parseFloat(document.getElementById('y1Midpoint').value);
            const x2 = parseFloat(document.getElementById('x2Midpoint').value);
            const y2 = parseFloat(document.getElementById('y2Midpoint').value);
            
            const midX = (x1 + x2) / 2;
            const midY = (y1 + y2) / 2;
            
            document.getElementById('midpoint').textContent = `Midpoint = (${midX.toFixed(2)}, ${midY.toFixed(2)})`;
            document.getElementById('resultMidpoint').style.display = 'block';
            
            const steps = document.getElementById('stepsMidpoint');
            steps.innerHTML = `
                <p>Midpoint = ((x₁ + x₂)/2, (y₁ + y₂)/2)</p>
                <p>Midpoint = ((${x1} + ${x2})/2, (${y1} + ${y2})/2)</p>
                <p>Midpoint = (${(x1 + x2).toFixed(2)}/2, ${(y1 + y2).toFixed(2)}/2)</p>
                <p>Midpoint = (${midX.toFixed(2)}, ${midY.toFixed(2)})</p>
            `;
            
            drawGraphMidpoint(x1, y1, x2, y2);
        }
        
        document.getElementById('toggleStepsMidpoint').addEventListener('click', function() {
            const steps = document.getElementById('stepsMidpoint');
            if (steps.style.display === 'block') {
                steps.style.display = 'none';
                this.textContent = 'Show Steps';
            } else {
                steps.style.display = 'block';
                this.textContent = 'Hide Steps';
            }
        });
        
        function drawGraphMidpoint(x1, y1, x2, y2) {
            const svg = document.getElementById('graphMidpoint');
            svg.innerHTML = '';
            
            const midX = (x1 + x2) / 2;
            const midY = (y1 + y2) / 2;
            
            const width = svg.clientWidth;
            const height = svg.clientHeight;
            
            let minX = Math.min(x1, x2, midX) - 2;
            let maxX = Math.max(x1, x2, midX) + 2;
            let minY = Math.min(y1, y2, midY) - 2;
            let maxY = Math.max(y1, y2, midY) + 2;
            
            if (maxX - minX < 5) {
                const mid = (maxX + minX) / 2;
                minX = mid - 2.5;
                maxX = mid + 2.5;
            }
            if (maxY - minY < 5) {
                const mid = (maxY + minY) / 2;
                minY = mid - 2.5;
                maxY = mid + 2.5;
            }
            
            const scaleX = width / (maxX - minX);
            const scaleY = height / (maxY - minY);
            
            function transformX(x) {
                return (x - minX) * scaleX;
            }
            
            function transformY(y) {
                return height - (y - minY) * scaleY;
            }
            
            const gridStep = 1;
            
            for (let x = Math.ceil(minX); x <= Math.floor(maxX); x += gridStep) {
                const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                line.setAttribute("x1", transformX(x));
                line.setAttribute("y1", 0);
                line.setAttribute("x2", transformX(x));
                line.setAttribute("y2", height);
                line.setAttribute("class", "grid-line");
                svg.appendChild(line);
                
                if (x !== 0) {
                    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    text.setAttribute("x", transformX(x));
                    text.setAttribute("y", transformY(0) + 15);
                    text.setAttribute("text-anchor", "middle");
                    text.setAttribute("class", "axis-label");
                    text.textContent = x;
                    svg.appendChild(text);
                }
            }
            
            for (let y = Math.ceil(minY); y <= Math.floor(maxY); y += gridStep) {
                const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                line.setAttribute("x1", 0);
                line.setAttribute("y1", transformY(y));
                line.setAttribute("x2", width);
                line.setAttribute("y2", transformY(y));
                line.setAttribute("class", "grid-line");
                svg.appendChild(line);
                
                if (y !== 0) {
                    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    text.setAttribute("x", transformX(0) - 10);
                    text.setAttribute("y", transformY(y) + 5);
                    text.setAttribute("text-anchor", "end");
                    text.setAttribute("class", "axis-label");
                    text.textContent = y;
                    svg.appendChild(text);
                }
            }
            
            const xAxis = document.createElementNS("http://www.w3.org/2000/svg", "line");
            xAxis.setAttribute("x1", 0);
            xAxis.setAttribute("y1", transformY(0));
            xAxis.setAttribute("x2", width);
            xAxis.setAttribute("y2", transformY(0));
            xAxis.setAttribute("class", "axis-line");
            svg.appendChild(xAxis);
            
            const yAxis = document.createElementNS("http://www.w3.org/2000/svg", "line");
            yAxis.setAttribute("x1", transformX(0));
            yAxis.setAttribute("y1", 0);
            yAxis.setAttribute("x2", transformX(0));
            yAxis.setAttribute("y2", height);
            yAxis.setAttribute("class", "axis-line");
            svg.appendChild(yAxis);
            
            const originLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
            originLabel.setAttribute("x", transformX(0) - 5);
            originLabel.setAttribute("y", transformY(0) + 15);
            originLabel.setAttribute("class", "axis-label");
            originLabel.textContent = "0";
            svg.appendChild(originLabel);
            
            const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
            line.setAttribute("x1", transformX(x1));
            line.setAttribute("y1", transformY(y1));
            line.setAttribute("x2", transformX(x2));
            line.setAttribute("y2", transformY(y2));
            line.setAttribute("class", "distance-line");
            svg.appendChild(line);
            
            const point1 = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            point1.setAttribute("cx", transformX(x1));
            point1.setAttribute("cy", transformY(y1));
            point1.setAttribute("r", 5);
            point1.setAttribute("fill", "#ff6b6b");
            point1.setAttribute("stroke", "#0f5ab5");
            point1.setAttribute("stroke-width", "1");
            svg.appendChild(point1);
            
            const point2 = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            point2.setAttribute("cx", transformX(x2));
            point2.setAttribute("cy", transformY(y2));
            point2.setAttribute("r", 5);
            point2.setAttribute("fill", "#1a73e8");
            point2.setAttribute("stroke", "#0f5ab5");
            point2.setAttribute("stroke-width", "1");
            svg.appendChild(point2);
            
            const midpoint = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            midpoint.setAttribute("cx", transformX(midX));
            midpoint.setAttribute("cy", transformY(midY));
            midpoint.setAttribute("r", 5);
            midpoint.setAttribute("class", "midpoint");
            svg.appendChild(midpoint);
            
            const verticalLine1 = document.createElementNS("http://www.w3.org/2000/svg", "line");
            verticalLine1.setAttribute("x1", transformX(x1));
            verticalLine1.setAttribute("y1", transformY(midY));
            verticalLine1.setAttribute("x2", transformX(midX));
            verticalLine1.setAttribute("y2", transformY(midY));
            verticalLine1.setAttribute("stroke", "#ffcc80");
            verticalLine1.setAttribute("stroke-width", "1");
            verticalLine1.setAttribute("stroke-dasharray", "3,2");
            svg.appendChild(verticalLine1);
            
            const verticalLine2 = document.createElementNS("http://www.w3.org/2000/svg", "line");
            verticalLine2.setAttribute("x1", transformX(midX));
            verticalLine2.setAttribute("y1", transformY(midY));
            verticalLine2.setAttribute("x2", transformX(x2));
            verticalLine2.setAttribute("y2", transformY(midY));
            verticalLine2.setAttribute("stroke", "#ffcc80");
            verticalLine2.setAttribute("stroke-width", "1");
            verticalLine2.setAttribute("stroke-dasharray", "3,2");
            svg.appendChild(verticalLine2);
            
            const horizontalLine1 = document.createElementNS("http://www.w3.org/2000/svg", "line");
            horizontalLine1.setAttribute("x1", transformX(midX));
            horizontalLine1.setAttribute("y1", transformY(y1));
            horizontalLine1.setAttribute("x2", transformX(midX));
            horizontalLine1.setAttribute("y2", transformY(midY));
            horizontalLine1.setAttribute("stroke", "#ffcc80");
            horizontalLine1.setAttribute("stroke-width", "1");
            horizontalLine1.setAttribute("stroke-dasharray", "3,2");
            svg.appendChild(horizontalLine1);
            
            const horizontalLine2 = document.createElementNS("http://www.w3.org/2000/svg", "line");
            horizontalLine2.setAttribute("x1", transformX(midX));
            horizontalLine2.setAttribute("y1", transformY(midY));
            horizontalLine2.setAttribute("x2", transformX(midX));
            horizontalLine2.setAttribute("y2", transformY(y2));
            horizontalLine2.setAttribute("stroke", "#ffcc80");
            horizontalLine2.setAttribute("stroke-width", "1");
            horizontalLine2.setAttribute("stroke-dasharray", "3,2");
            svg.appendChild(horizontalLine2);
            
            const label1 = document.createElementNS("http://www.w3.org/2000/svg", "text");
            label1.setAttribute("x", transformX(x1) - 5);
            label1.setAttribute("y", transformY(y1) - 10);
            label1.setAttribute("class", "point-label");
            label1.textContent = `P₁(${x1}, ${y1})`;
            svg.appendChild(label1);
            
            const label2 = document.createElementNS("http://www.w3.org/2000/svg", "text");
            label2.setAttribute("x", transformX(x2) - 5);
            label2.setAttribute("y", transformY(y2) - 10);
            label2.setAttribute("class", "point-label");
            label2.textContent = `P₂(${x2}, ${y2})`;
            svg.appendChild(label2);
            
            const midpointLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
            midpointLabel.setAttribute("x", transformX(midX) - 5);
            midpointLabel.setAttribute("y", transformY(midY) - 10);
            midpointLabel.setAttribute("class", "midpoint-label");
            midpointLabel.textContent = `M(${midX.toFixed(2)}, ${midY.toFixed(2)})`;
            svg.appendChild(midpointLabel);
        }

        // Section Formula Calculator Script
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('calculateSection').addEventListener('click', calculateSection);
            document.getElementById('toggleStepsSection').addEventListener('click', toggleStepsSection);
            document.getElementById('calc-type').addEventListener('change', updateInputStateSection);
            
            const inputs = ['x1Section', 'y1Section', 'x2Section', 'y2Section', 'm', 'n', 'xp', 'yp'];
            inputs.forEach(id => {
                document.getElementById(id).addEventListener('input', updateGraphSection);
            });
            
            updateInputStateSection();
            updateGraphSection();
            calculateSection();
        });
        
        function updateInputStateSection() {
            const calcType = document.getElementById('calc-type').value;
            
            document.getElementById('x1Section').disabled = false;
            document.getElementById('y1Section').disabled = false;
            document.getElementById('x2Section').disabled = false;
            document.getElementById('y2Section').disabled = false;
            document.getElementById('xp').disabled = false;
            document.getElementById('yp').disabled = false;
            document.getElementById('m').disabled = false;
            document.getElementById('n').disabled = false;
            
            document.getElementById('x1Section').classList.remove('disabled');
            document.getElementById('y1Section').classList.remove('disabled');
            document.getElementById('x2Section').classList.remove('disabled');
            document.getElementById('y2Section').classList.remove('disabled');
            document.getElementById('xp').classList.remove('disabled');
            document.getElementById('yp').classList.remove('disabled');
            document.getElementById('m').classList.remove('disabled');
            document.getElementById('n').classList.remove('disabled');
            
            switch(calcType) {
                case 'dividing-point':
                    document.getElementById('xp').disabled = true;
                    document.getElementById('yp').disabled = true;
                    document.getElementById('xp').classList.add('disabled');
                    document.getElementById('yp').classList.add('disabled');
                    break;
                case 'point-a':
                    document.getElementById('x1Section').disabled = true;
                    document.getElementById('y1Section').disabled = true;
                    document.getElementById('x1Section').classList.add('disabled');
                    document.getElementById('y1Section').classList.add('disabled');
                    break;
                case 'point-b':
                    document.getElementById('x2Section').disabled = true;
                    document.getElementById('y2Section').disabled = true;
                    document.getElementById('x2Section').classList.add('disabled');
                    document.getElementById('y2Section').classList.add('disabled');
                    break;
                case 'ratio':
                    document.getElementById('m').disabled = true;
                    document.getElementById('n').disabled = true;
                    document.getElementById('m').classList.add('disabled');
                    document.getElementById('n').classList.add('disabled');
                    break;
            }
        }
        
        function calculateSection() {
            const calcType = document.getElementById('calc-type').value;
            
            const x1 = parseFloat(document.getElementById('x1Section').value);
            const y1 = parseFloat(document.getElementById('y1Section').value);
            const x2 = parseFloat(document.getElementById('x2Section').value);
            const y2 = parseFloat(document.getElementById('y2Section').value);
            const m = parseFloat(document.getElementById('m').value);
            const n = parseFloat(document.getElementById('n').value);
            const xp = parseFloat(document.getElementById('xp').value);
            const yp = parseFloat(document.getElementById('yp').value);
            
            let result, steps;
            
            switch(calcType) {
                case 'dividing-point':
                    result = calculateDividingPoint(x1, y1, x2, y2, m, n);
                    document.getElementById('xp').value = result.x.toFixed(4);
                    document.getElementById('yp').value = result.y.toFixed(4);
                    steps = generateDividingPointSteps(x1, y1, x2, y2, m, n, result);
                    document.getElementById('answerSection').textContent = `Point P = (${result.x.toFixed(4)}, ${result.y.toFixed(4)})`;
                    break;
                    
                case 'point-a':
                    result = calculatePointA(x2, y2, xp, yp, m, n);
                    document.getElementById('x1Section').value = result.x.toFixed(4);
                    document.getElementById('y1Section').value = result.y.toFixed(4);
                    steps = generatePointASteps(x2, y2, xp, yp, m, n, result);
                    document.getElementById('answerSection').textContent = `Point A = (${result.x.toFixed(4)}, ${result.y.toFixed(4)})`;
                    break;
                    
                case 'point-b':
                    result = calculatePointB(x1, y1, xp, yp, m, n);
                    document.getElementById('x2Section').value = result.x.toFixed(4);
                    document.getElementById('y2Section').value = result.y.toFixed(4);
                    steps = generatePointBSteps(x1, y1, xp, yp, m, n, result);
                    document.getElementById('answerSection').textContent = `Point B = (${result.x.toFixed(4)}, ${result.y.toFixed(4)})`;
                    break;
                    
                case 'ratio':
                    result = calculateRatio(x1, y1, x2, y2, xp, yp);
                    document.getElementById('m').value = result.m.toFixed(4);
                    document.getElementById('n').value = result.n.toFixed(4);
                    steps = generateRatioSteps(x1, y1, x2, y2, xp, yp, result);
                    document.getElementById('answerSection').textContent = `Ratio m:n = ${result.m.toFixed(4)}:${result.n.toFixed(4)}`;
                    break;
            }
            
            document.getElementById('resultSection').style.display = 'block';
            document.getElementById('stepsSection').innerHTML = steps;
            
            updateGraphSection();
        }
        
        function calculateDividingPoint(x1, y1, x2, y2, m, n) {
            const x = (m * x2 + n * x1) / (m + n);
            const y = (m * y2 + n * y1) / (m + n);
            return { x, y };
        }
        
        function calculatePointA(x2, y2, xp, yp, m, n) {
            const x = (xp * (m + n) - m * x2) / n;
            const y = (yp * (m + n) - m * y2) / n;
            return { x, y };
        }
        
        function calculatePointB(x1, y1, xp, yp, m, n) {
            const x = (xp * (m + n) - n * x1) / m;
            const y = (yp * (m + n) - n * y1) / m;
            return { x, y };
        }
        
        function calculateRatio(x1, y1, x2, y2, xp, yp) {
            const AP = Math.sqrt(Math.pow(xp - x1, 2) + Math.pow(yp - y1, 2));
            const PB = Math.sqrt(Math.pow(x2 - xp, 2) + Math.pow(y2 - yp, 2));
            
            const n = AP;
            const m = PB;
            
            if (AP === 0) {
                return { m: 0, n: 1 };
            } else if (PB === 0) {
                return { m: 1, n: 0 };
            }
            
            return { m, n };
        }
        
        function generateDividingPointSteps(x1, y1, x2, y2, m, n, result) {
            return `
                <p>Given:</p>
                <p>Point A = (${x1}, ${y1})</p>
                <p>Point B = (${x2}, ${y2})</p>
                <p>Ratio m:n = ${m}:${n}</p>
                <p>Using the section formula:</p>
                <p>P(x, y) = ((m·x₂ + n·x₁)/(m+n), (m·y₂ + n·y₁)/(m+n))</p>
                <p>For x-coordinate:</p>
                <p>x = (${m} × ${x2} + ${n} × ${x1}) / (${m} + ${n})</p>
                <p>x = (${(m * x2).toFixed(4)} + ${(n * x1).toFixed(4)}) / ${m + n}</p>
                <p>x = ${(m * x2 + n * x1).toFixed(4)} / ${m + n}</p>
                <p>x = ${result.x.toFixed(4)}</p>
                <p>For y-coordinate:</p>
                <p>y = (${m} × ${y2} + ${n} × ${y1}) / (${m} + ${n})</p>
                <p>y = (${(m * y2).toFixed(4)} + ${(n * y1).toFixed(4)}) / ${m + n}</p>
                <p>y = ${(m * y2 + n * y1).toFixed(4)} / ${m + n}</p>
                <p>y = ${result.y.toFixed(4)}</p>
                <p>Therefore, the dividing point P = (${result.x.toFixed(4)}, ${result.y.toFixed(4)})</p>
            `;
        }
        
        function generatePointASteps(x2, y2, xp, yp, m, n, result) {
            return `
                <p>Given:</p>
                <p>Point B = (${x2}, ${y2})</p>
                <p>Point P = (${xp}, ${yp})</p>
                <p>Ratio m:n = ${m}:${n}</p>
                <p>Using the section formula and solving for Point A:</p>
                <p>xp = (m·x₂ + n·x₁) / (m+n)</p>
                <p>${xp} = (${m}·${x2} + ${n}·x₁) / (${m}+${n})</p>
                <p>${xp} · (${m}+${n}) = ${m}·${x2} + ${n}·x₁</p>
                <p>${(xp * (m + n)).toFixed(4)} = ${(m * x2).toFixed(4)} + ${n}·x₁</p>
                <p>${n}·x₁ = ${(xp * (m + n)).toFixed(4)} - ${(m * x2).toFixed(4)}</p>
                <p>${n}·x₁ = ${(xp * (m + n) - m * x2).toFixed(4)}</p>
                <p>x₁ = ${(xp * (m + n) - m * x2).toFixed(4)} / ${n}</p>
                <p>x₁ = ${result.x.toFixed(4)}</p>
                <p>Similarly for y-coordinate:</p>
                <p>y₁ = (${yp} · (${m}+${n}) - ${m} · ${y2}) / ${n}</p>
                <p>y₁ = ${(yp * (m + n) - m * y2).toFixed(4)} / ${n}</p>
                <p>y₁ = ${result.y.toFixed(4)}</p>
                <p>Therefore, Point A = (${result.x.toFixed(4)}, ${result.y.toFixed(4)})</p>
            `;
        }
        
        function generatePointBSteps(x1, y1, xp, yp, m, n, result) {
            return `
                <p>Given:</p>
                <p>Point A = (${x1}, ${y1})</p>
                <p>Point P = (${xp}, ${yp})</p>
                <p>Ratio m:n = ${m}:${n}</p>
                <p>Using the section formula and solving for Point B:</p>
                <p>xp = (m·x₂ + n·x₁) / (m+n)</p>
                <p>${xp} = (${m}·x₂ + ${n}·${x1}) / (${m}+${n})</p>
                <p>${xp} · (${m}+${n}) = ${m}·x₂ + ${n}·${x1}</p>
                <p>${(xp * (m + n)).toFixed(4)} = ${m}·x₂ + ${(n * x1).toFixed(4)}</p>
                <p>${m}·x₂ = ${(xp * (m + n)).toFixed(4)} - ${(n * x1).toFixed(4)}</p>
                <p>${m}·x₂ = ${(xp * (m + n) - n * x1).toFixed(4)}</p>
                <p>x₂ = ${(xp * (m + n) - n * x1).toFixed(4)} / ${m}</p>
                <p>x₂ = ${result.x.toFixed(4)}</p>
                <p>Similarly for y-coordinate:</p>
                <p>y₂ = (${yp} · (${m}+${n}) - ${n} · ${y1}) / ${m}</p>
                <p>y₂ = ${(yp * (m + n) - n * y1).toFixed(4)} / ${m}</p>
                <p>y₂ = ${result.y.toFixed(4)}</p>
                <p>Therefore, Point B = (${result.x.toFixed(4)}, ${result.y.toFixed(4)})</p>
            `;
        }
        
        function generateRatioSteps(x1, y1, x2, y2, xp, yp, result) {
            const AP = Math.sqrt(Math.pow(xp - x1, 2) + Math.pow(yp - y1, 2)).toFixed(4);
            const PB = Math.sqrt(Math.pow(x2 - xp, 2) + Math.pow(y2 - yp, 2)).toFixed(4);
            
            return `
                <p>Given:</p>
                <p>Point A = (${x1}, ${y1})</p>
                <p>Point B = (${x2}, ${y2})</p>
                <p>Point P = (${xp}, ${yp})</p>
                <p>To find the ratio m:n, we need to determine the distances AP and PB</p>
                <p>AP = √[(${xp} - ${x1})² + (${yp} - ${y1})²]</p>
                <p>AP = √[${(xp - x1).toFixed(4)}² + ${(yp - y1).toFixed(4)}²]</p>
                <p>AP = √[${Math.pow(xp - x1, 2).toFixed(4)} + ${Math.pow(yp - y1, 2).toFixed(4)}]</p>
                <p>AP = √${(Math.pow(xp - x1, 2) + Math.pow(yp - y1, 2)).toFixed(4)}</p>
                <p>AP = ${AP}</p>
                <p>PB = √[(${x2} - ${xp})² + (${y2} - ${yp})²]</p>
                <p>PB = √[${(x2 - xp).toFixed(4)}² + ${(y2 - yp).toFixed(4)}²]</p>
                <p>PB = √[${Math.pow(x2 - xp, 2).toFixed(4)} + ${Math.pow(y2 - yp, 2).toFixed(4)}]</p>
                <p>PB = √${(Math.pow(x2 - xp, 2) + Math.pow(y2 - yp, 2)).toFixed(4)}</p>
                <p>PB = ${PB}</p>
                <p>If P divides AB in ratio m:n, then AP:PB = n:m</p>
                <p>Therefore, m:n = ${PB}:${AP}</p>
                <p>Or m = ${result.m.toFixed(4)}, n = ${result.n.toFixed(4)}</p>
                <p>The ratio is m:n = ${result.m.toFixed(4)}:${result.n.toFixed(4)}</p>
            `;
        }
        
        function toggleStepsSection() {
            const steps = document.getElementById('stepsSection');
            const toggleBtn = document.getElementById('toggleStepsSection');
            
            if (steps.style.display === 'block') {
                steps.style.display = 'none';
                toggleBtn.textContent = 'Show Steps';
            } else {
                steps.style.display = 'block';
                toggleBtn.textContent = 'Hide Steps';
            }
        }
        
        function updateGraphSection() {
            const svg = document.getElementById('graphSection');
            svg.innerHTML = '';
            
            const x1 = parseFloat(document.getElementById('x1Section').value) || 0;
            const y1 = parseFloat(document.getElementById('y1Section').value) || 0;
            const x2 = parseFloat(document.getElementById('x2Section').value) || 0;
            const y2 = parseFloat(document.getElementById('y2Section').value) || 0;
            const m = parseFloat(document.getElementById('m').value) || 1;
            const n = parseFloat(document.getElementById('n').value) || 1;
            
            const divPoint = calculateDividingPoint(x1, y1, x2, y2, m, n);
            const xp = parseFloat(document.getElementById('xp').value) || divPoint.x;
            const yp = parseFloat(document.getElementById('yp').value) || divPoint.y;
            
            const width = svg.clientWidth;
            const height = svg.clientHeight;
            
            let allPoints = [
                {x: x1, y: y1},
                {x: x2, y: y2},
                {x: xp, y: yp}
            ];
            
            let minX = Math.min(...allPoints.map(p => p.x)) - 2;
            let maxX = Math.max(...allPoints.map(p => p.x)) + 2;
            let minY = Math.min(...allPoints.map(p => p.y)) - 2;
            let maxY = Math.max(...allPoints.map(p => p.y)) + 2;
            
            if (maxX - minX < 5) {
                const mid = (maxX + minX) / 2;
                minX = mid - 2.5;
                maxX = mid + 2.5;
            }
            if (maxY - minY < 5) {
                const mid = (maxY + minY) / 2;
                minY = mid - 2.5;
                maxY = mid + 2.5;
            }
            
            const scaleX = width / (maxX - minX);
            const scaleY = height / (maxY - minY);
            
            function transformX(x) {
                return (x - minX) * scaleX;
            }
            
            function transformY(y) {
                return height - (y - minY) * scaleY;
            }
            
            drawGridAndAxes(svg, minX, maxX, minY, maxY, width, height, transformX, transformY);
            
            const lineAB = document.createElementNS("http://www.w3.org/2000/svg", "line");
            lineAB.setAttribute("x1", transformX(x1));
            lineAB.setAttribute("y1", transformY(y1));
            lineAB.setAttribute("x2", transformX(x2));
            lineAB.setAttribute("y2", transformY(y2));
            lineAB.setAttribute("class", "segment-line");
            svg.appendChild(lineAB);
            
            const pointP = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            pointP.setAttribute("cx", transformX(xp));
            pointP.setAttribute("cy", transformY(yp));
            pointP.setAttribute("r", 5);
            pointP.setAttribute("fill", "#ff6b6b"); /* Red point */
            pointP.setAttribute("stroke", "#0f5ab5");
            pointP.setAttribute("stroke-width", "1");
            svg.appendChild(pointP);
            
            const pointA = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            pointA.setAttribute("cx", transformX(x1));
            pointA.setAttribute("cy", transformY(y1));
            pointA.setAttribute("r", 5);
            pointA.setAttribute("fill", "#1a73e8"); /* Blue point */
            pointA.setAttribute("stroke", "#0f5ab5");
            pointA.setAttribute("stroke-width", "1");
            svg.appendChild(pointA);
            
            const pointB = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            pointB.setAttribute("cx", transformX(x2));
            pointB.setAttribute("cy", transformY(y2));
            pointB.setAttribute("r", 5);
            pointB.setAttribute("fill", "#1a73e8");
            pointB.setAttribute("stroke", "#0f5ab5");
            pointB.setAttribute("stroke-width", "1");
            svg.appendChild(pointB);
            
            addLabel(svg, x1, y1, transformX, transformY, `A(${x1}, ${y1})`, -10, -10);
            addLabel(svg, x2, y2, transformX, transformY, `B(${x2}, ${y2})`, -10, -10);
            addLabel(svg, xp, yp, transformX, transformY, `P(${xp.toFixed(2)}, ${yp.toFixed(2)})`, -10, 20);
            
            const midX = (x1 + x2) / 2;
            const midY = (y1 + y2) / 2;
            
            const ratioLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
            ratioLabel.setAttribute("x", transformX(midX));
            ratioLabel.setAttribute("y", transformY(midY) - 15);
            ratioLabel.setAttribute("text-anchor", "middle");
            ratioLabel.setAttribute("fill", "#1a73e8"); /* Blue ratio */
            ratioLabel.setAttribute("font-weight", "bold");
            ratioLabel.textContent = `Ratio ${m}:${n}`;
            svg.appendChild(ratioLabel);
        }
        
        function addLabel(svg, x, y, transformX, transformY, text, offsetX, offsetY) {
            const label = document.createElementNS("http://www.w3.org/2000/svg", "text");
            label.setAttribute("x", transformX(x) + offsetX);
            label.setAttribute("y", transformY(y) + offsetY);
            label.setAttribute("class", "point-label");
            label.textContent = text;
            svg.appendChild(label);
        }
        
        function drawGridAndAxes(svg, minX, maxX, minY, maxY, width, height, transformX, transformY) {
            const gridStep = 1;
            
            for (let x = Math.ceil(minX); x <= Math.floor(maxX); x += gridStep) {
                const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                line.setAttribute("x1", transformX(x));
                line.setAttribute("y1", 0);
                line.setAttribute("x2", transformX(x));
                line.setAttribute("y2", height);
                line.setAttribute("class", "grid-line");
                svg.appendChild(line);
                
                if (x !== 0) {
                    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    text.setAttribute("x", transformX(x));
                    text.setAttribute("y", transformY(0) + 15);
                    text.setAttribute("text-anchor", "middle");
                    text.setAttribute("class", "axis-label");
                    text.textContent = x;
                    svg.appendChild(text);
                }
            }
            
            for (let y = Math.ceil(minY); y <= Math.floor(maxY); y += gridStep) {
                const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                line.setAttribute("x1", 0);
                line.setAttribute("y1", transformY(y));
                line.setAttribute("x2", width);
                line.setAttribute("y2", transformY(y));
                line.setAttribute("class", "grid-line");
                svg.appendChild(line);
                
                if (y !== 0) {
                    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    text.setAttribute("x", transformX(0) - 10);
                    text.setAttribute("y", transformY(y) + 5);
                    text.setAttribute("text-anchor", "end");
                    text.setAttribute("class", "axis-label");
                    text.textContent = y;
                    svg.appendChild(text);
                }
            }
            
            const xAxis = document.createElementNS("http://www.w3.org/2000/svg", "line");
            xAxis.setAttribute("x1", 0);
            xAxis.setAttribute("y1", transformY(0));
            xAxis.setAttribute("x2", width);
            xAxis.setAttribute("y2", transformY(0));
            xAxis.setAttribute("class", "axis-line");
            svg.appendChild(xAxis);
            
            const yAxis = document.createElementNS("http://www.w3.org/2000/svg", "line");
            yAxis.setAttribute("x1", transformX(0));
            yAxis.setAttribute("y1", 0);
            yAxis.setAttribute("x2", transformX(0));
            yAxis.setAttribute("y2", height);
            yAxis.setAttribute("class", "axis-line");
            svg.appendChild(yAxis);
            
            const originLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
            originLabel.setAttribute("x", transformX(0) - 5);
            originLabel.setAttribute("y", transformY(0) + 15);
            originLabel.setAttribute("class", "axis-label");
            originLabel.textContent = "0";
            svg.appendChild(originLabel);
        }
    </script>
</body>
</html>